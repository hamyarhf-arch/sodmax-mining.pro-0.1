<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SODmAX Pro | Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ø§ Ù¾Ø§Ø¯Ø§Ø´ USDT</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- ALL STYLES INLINE -->
    <style>
        /* ØªÙ…Ø§Ù… Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø§ÛŒÙ†Ø¬Ø§ */
        :root {
            --primary: #0066FF;
            --primary-dark: #0052CC;
            --primary-light: #3395FF;
            --secondary: #00D4AA;
            --accent: #FF6B35;
            --usdt: #26A17B;
            --eth: #627EEA;
            --btc: #F7931A;
            --dark: #0A0F1C;
            --darker: #050914;
            --card: #121828;
            --card-hover: #1A233F;
            --text: #FFFFFF;
            --text-secondary: #94A3B8;
            --success: #00C853;
            --warning: #FFB300;
            --error: #FF3D00;
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            --gradient-dark: linear-gradient(135deg, var(--primary-dark) 0%, #00B894 100%);
            --gradient-usdt: linear-gradient(135deg, var(--usdt) 0%, #00D4AA 100%);
            --gradient-btc: linear-gradient(135deg, var(--btc) 0%, #FFD166 100%);
            --gradient-eth: linear-gradient(135deg, var(--eth) 0%, #8B5CF6 100%);
            --shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 15px 30px rgba(0, 0, 0, 0.4);
            --shadow-primary: 0 5px 15px rgba(0, 102, 255, 0.3);
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            font-size: 14px;
        }

        body {
            background: var(--dark);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 102, 255, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(0, 212, 170, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(255, 107, 53, 0.1) 0%, transparent 60%);
            touch-action: manipulation;
        }

        button, .btn, .miner-core {
            touch-action: manipulation;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 16px;
            position: relative;
            z-index: 1;
        }

        .register-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(5, 9, 20, 0.95);
            backdrop-filter: blur(20px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }

        .register-container {
            background: linear-gradient(145deg, var(--card) 0%, rgba(18, 24, 40, 0.95) 100%);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            padding: 32px 24px;
            width: 100%;
            max-width: 400px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .register-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .register-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 36px;
            color: white;
            box-shadow: var(--shadow-primary);
        }

        .register-title {
            font-size: 28px;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .register-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.5;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            color: white;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
        }

        .btn {
            padding: 14px 20px;
            border-radius: 10px;
            border: none;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-decoration: none;
            letter-spacing: 0.3px;
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            width: 100%;
            min-height: 48px;
            -webkit-appearance: none;
            appearance: none;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            box-shadow: var(--shadow-primary);
        }

        .btn:active {
            transform: scale(0.96);
        }

        .btn-success {
            background: var(--gradient-usdt);
            color: white;
            box-shadow: 0 5px 15px rgba(38, 161, 123, 0.3);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning) 0%, #FF9800 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(255, 179, 0, 0.3);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--glass-border);
            color: white;
        }

        .btn-outline:active {
            border-color: var(--primary);
            background: rgba(0, 102, 255, 0.1);
        }
        
        .navbar {
            display: flex;
            flex-direction: column;
            gap: 16px;
            padding: 16px 0;
            margin-bottom: 24px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 15, 28, 0.98);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--glass-border);
            z-index: -1;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            padding: 0 8px;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: var(--gradient);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 900;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-primary);
            flex-shrink: 0;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .logo-title {
            font-size: 22px;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
            line-height: 1;
        }

        .logo-subtitle {
            font-size: 11px;
            color: var(--text-secondary);
            font-weight: 500;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            margin-top: 4px;
        }

        .nav-menu {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-right: 15px;
            flex-wrap: wrap;
            justify-content: center;
            padding: 0 8px;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
        }

        .nav-menu a:nth-child(1) { background: rgba(0,102,255,0.3); }
        .nav-menu a:nth-child(2) { background: rgba(255,107,53,0.3); }
        .nav-menu a:nth-child(3) { background: rgba(0,212,170,0.3); }
        .nav-menu a:nth-child(4) { background: rgba(148,163,184,0.3); }

        .nav-menu a:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-text {
            display: inline;
        }

        .wallet-section {
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
            padding: 0 8px;
        }

        .wallet-row {
            display: flex;
            gap: 12px;
            width: 100%;
        }

        .wallet-card {
            background: linear-gradient(145deg, var(--card) 0%, rgba(18, 24, 40, 0.8) 100%);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: 16px;
            flex: 1;
            min-width: 0;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .wallet-card:active {
            transform: scale(0.98);
        }

        .wallet-label {
            font-size: 11px;
            color: var(--text-secondary);
            font-weight: 600;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .wallet-amount {
            font-size: 20px;
            font-weight: 800;
            color: white;
            display: flex;
            align-items: baseline;
            gap: 6px;
            line-height: 1;
        }

        .wallet-amount span {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .miner-section {
            margin: 40px 0 60px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 32px;
            padding: 0 8px;
        }

        .section-title {
            font-size: 28px;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 12px;
            line-height: 1.2;
            letter-spacing: -0.5px;
        }

        .section-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
            padding: 0 4px;
        }

        .highlight {
            color: var(--primary-light);
            font-weight: 600;
        }

        .miner-container {
            display: flex;
            flex-direction: column;
            gap: 32px;
            margin-bottom: 40px;
        }

        .miner-view {
            background: linear-gradient(145deg, var(--card) 0%, rgba(18, 24, 40, 0.9) 100%);
            border-radius: var(--radius-xl);
            padding: 24px 16px;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .miner-view::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient);
            z-index: 1;
        }

        .miner-display {
            position: relative;
            width: 100%;
            height: 280px;
            margin: 24px 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .miner-core {
            width: 220px;
            height: 220px;
            background: linear-gradient(145deg, #0D1428 0%, #121828 100%);
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            border: 2px solid transparent;
            overflow: hidden;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                inset 0 0 40px rgba(0, 102, 255, 0.1),
                0 10px 30px rgba(0, 0, 0, 0.5);
            -webkit-tap-highlight-color: transparent;
        }

        .miner-core:active {
            transform: scale(0.95);
            box-shadow: 
                inset 0 0 60px rgba(0, 102, 255, 0.2),
                0 15px 40px rgba(0, 102, 255, 0.3);
        }

        .core-inner {
            position: absolute;
            inset: 2px;
            background: linear-gradient(145deg, #0D1428 0%, #121828 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }

        .core-content {
            text-align: center;
            z-index: 2;
            padding: 20px;
        }

        .core-icon {
            font-size: 48px;
            margin-bottom: 16px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 4px 12px rgba(0, 102, 255, 0.3));
            animation: pulse 2s ease-in-out infinite;
        }

        .click-reward {
            font-size: 24px;
            font-weight: 900;
            color: white;
            margin-bottom: 8px;
            text-shadow: 0 4px 20px rgba(0, 102, 255, 0.5);
        }

        .click-label {
            font-size: 14px;
            color: var(--text-secondary);
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .miner-controls {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 24px;
        }

        .stats-view {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .stat-card {
            background: linear-gradient(145deg, var(--card) 0%, rgba(18, 24, 40, 0.8) 100%);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .stat-card:active {
            transform: translateY(-2px);
            border-color: var(--primary);
        }

        .stat-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .stat-icon {
            width: 44px;
            height: 44px;
            background: linear-gradient(145deg, rgba(0, 102, 255, 0.15) 0%, rgba(0, 212, 170, 0.15) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 18px;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }

        .stat-title {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 22px;
            font-weight: 900;
            color: white;
            line-height: 1;
            margin-bottom: 6px;
            display: flex;
            align-items: baseline;
            gap: 6px;
            word-break: break-all;
        }

        .sod-sale-section {
            margin: 60px 0;
        }

        .sale-plans-grid {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 24px;
            padding: 0 4px;
        }

        .sale-plan-card {
            background: linear-gradient(145deg, var(--card) 0%, rgba(18, 24, 40, 0.9) 100%);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 24px 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .sale-plan-card:active {
            transform: translateY(-4px);
            border-color: var(--primary);
        }

        .sale-plan-card.featured {
            border: 2px solid var(--primary);
            background: linear-gradient(145deg, var(--card) 0%, rgba(0, 102, 255, 0.15) 100%);
        }

        .sale-plan-badge {
            position: absolute;
            top: 16px;
            left: 16px;
            background: var(--gradient);
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: var(--shadow-primary);
        }

        .sale-plan-header {
            text-align: center;
            margin-bottom: 24px;
            padding-top: 8px;
        }

        .sale-plan-name {
            font-size: 20px;
            font-weight: 800;
            color: white;
            margin-bottom: 8px;
        }

        .sale-plan-price {
            font-size: 36px;
            font-weight: 900;
            color: white;
            margin-bottom: 8px;
            line-height: 1;
        }

        .sale-plan-price span {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .sod-amount {
            font-size: 18px;
            color: var(--primary-light);
            font-weight: 700;
            margin-bottom: 20px;
        }

        .sale-plan-features {
            list-style: none;
            margin-bottom: 24px;
        }

        .sale-plan-features li {
            padding: 8px 0;
            border-bottom: 1px solid var(--glass-border);
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 13px;
        }

        .sale-plan-features li:last-child {
            border-bottom: none;
        }

        .discount-badge {
            background: linear-gradient(135deg, var(--accent) 0%, #FF5722 100%);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
            display: inline-block;
            margin-right: 8px;
        }

        .reward-section {
            background: linear-gradient(145deg, #0D1430 0%, #121828 100%);
            border-radius: var(--radius-xl);
            padding: 32px 20px;
            margin: 60px 0;
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .reward-header {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 32px;
            position: relative;
            z-index: 2;
        }

        .reward-title {
            font-size: 24px;
            font-weight: 900;
            color: white;
        }

        .reward-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .reward-card {
            background: linear-gradient(145deg, rgba(38, 161, 123, 0.15) 0%, rgba(0, 212, 170, 0.15) 100%);
            border: 1px solid rgba(38, 161, 123, 0.3);
            border-radius: var(--radius-lg);
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 32px;
            position: relative;
            z-index: 2;
            backdrop-filter: blur(20px);
        }

        .reward-info h3 {
            color: var(--usdt);
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .reward-amount {
            font-size: 36px;
            font-weight: 900;
            color: var(--usdt);
            line-height: 1;
        }

        .progress-container {
            margin: 32px 0;
            position: relative;
            z-index: 2;
        }

        .progress-header {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 12px;
        }

        .progress-label {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .progress-value {
            font-size: 13px;
            font-weight: 700;
            color: white;
        }

        .progress-bar {
            height: 12px;
            background: var(--glass);
            border-radius: 6px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--usdt));
            border-radius: 6px;
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .transactions-section {
            margin: 60px 0;
        }

        .transactions-table {
            background: linear-gradient(145deg, var(--card) 0%, rgba(18, 24, 40, 0.9) 100%);
            border-radius: var(--radius-lg);
            border: 1px solid var(--glass-border);
            overflow: hidden;
            margin-top: 24px;
            box-shadow: var(--shadow);
        }

        .transaction-row {
            padding: 16px;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .transaction-row:last-child {
            border-bottom: none;
        }

        .transaction-type {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .transaction-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(145deg, rgba(0, 102, 255, 0.15) 0%, rgba(0, 212, 170, 0.15) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 16px;
            flex-shrink: 0;
        }

        .notification {
            position: fixed;
            top: 16px;
            right: 16px;
            left: 16px;
            background: linear-gradient(145deg, var(--card) 0%, rgba(18, 24, 40, 0.95) 100%);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 16px;
            z-index: 10000;
            transform: translateY(-100px);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(20px);
        }

        .notification.show {
            transform: translateY(0);
        }

        .notification-icon {
            width: 44px;
            height: 44px;
            background: var(--gradient);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            flex-shrink: 0;
            box-shadow: var(--shadow-primary);
        }

        @keyframes pulse {
            0%, 100% { 
                opacity: 1;
                transform: scale(1);
            }
            50% { 
                opacity: 0.8;
                transform: scale(1.1);
            }
        }

        @keyframes miningEffect {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(0, -80px) scale(1.2);
            }
        }

        @media (min-width: 768px) {
            html {
                font-size: 16px;
            }
            
            .container {
                padding: 0 24px;
                max-width: 768px;
            }
            
            .navbar {
                flex-direction: row;
                justify-content: space-between;
                padding: 20px 0;
            }
            
            .nav-menu {
                flex-direction: row;
                margin-right: 0;
            }
            
            .wallet-section {
                flex-direction: row;
                width: auto;
            }
            
            .wallet-row {
                flex-direction: row;
            }
            
            .wallet-card {
                min-width: 160px;
            }
            
            .section-title {
                font-size: 32px;
            }
            
            .miner-core {
                width: 280px;
                height: 280px;
            }
            
            .miner-controls {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .btn {
                width: auto;
                flex: 1;
            }
            
            .stats-view {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
            
            .sale-plans-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .reward-card {
                flex-direction: row;
            }
        }

        @media (max-width: 768px) {
            .nav-text {
                display: none;
            }
            .nav-menu {
                gap: 5px;
            }
            .nav-menu a {
                padding: 5px 8px;
                font-size: 11px;
            }
        }

        @media (min-width: 992px) {
            .container {
                max-width: 1200px;
                padding: 0 32px;
            }
            
            .miner-container {
                display: grid;
                grid-template-columns: 1.2fr 0.8fr;
                gap: 40px;
            }
            
            .sale-plans-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- ØµÙØ­Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… -->
    <div class="register-overlay" id="registerOverlay">
        <div class="register-container">
            <div class="register-header">
                <div class="register-icon">â›ï¸</div>
                <h1 class="register-title">Ø«Ø¨Øª Ù†Ø§Ù… Ø¯Ø± SODmAX</h1>
                <p class="register-subtitle">Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø§Ø¯Ø§Ø´ USDT Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ù†ÛŒØ¯</p>
            </div>

            <form id="registerForm">
                <div class="form-group">
                    <label class="form-label">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
                    <input type="text" class="form-input" placeholder="Ù…Ø«Ø§Ù„: Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ÛŒ" id="fullName" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Ø§ÛŒÙ…ÛŒÙ„</label>
                    <input type="email" class="form-input" placeholder="example@gmail.com" id="email" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Ú©Ø¯ Ø¯Ø¹ÙˆØª (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                    <input type="text" class="form-input" placeholder="Ú©Ø¯ Ø¯ÙˆØ³Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" id="referralCode">
                </div>

                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i>
                    Ø«Ø¨Øª Ù†Ø§Ù… Ùˆ Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ®Ø±Ø§Ø¬
                </button>

                <div style="text-align: center; margin-top: 20px; color: var(--text-secondary); font-size: 12px;">
                    Ø¨Ø§ Ø«Ø¨Øª Ù†Ø§Ù…ØŒ <a href="#" onclick="showTerms()" style="color: var(--primary-light);">Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ø´Ø±Ø§ÛŒØ·</a> Ø±Ø§ Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±ÛŒØ¯
                </div>
            </form>
        </div>
    </div>

    <!-- Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø§ØµÙ„ÛŒ -->
    <div class="container" id="mainContainer" style="display: none;">
        <!-- Ù†Ø§ÙˆØ¨Ø±ÛŒ -->
        <nav class="navbar">
            <div class="nav-background"></div>
            
            <a href="#" class="logo">
                <div class="logo-icon">â›ï¸</div>
                <div class="logo-text">
                    <div class="logo-title">SODmAX Pro</div>
                    <div class="logo-subtitle">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù‡ÙˆØ´Ù…Ù†Ø¯ â€¢ Ù¾Ø§Ø¯Ø§Ø´ ÙˆØ§Ù‚Ø¹ÛŒ</div>
                </div>
            </a>

            <!-- Ù…Ù†ÙˆÛŒ navigation -->
            <div class="nav-menu">
                <a href="dashboard.html">
                    <i class="fas fa-chart-line"></i>
                    <span class="nav-text">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</span>
                </a>
                <a href="leaderboard.html">
                    <i class="fas fa-trophy"></i>
                    <span class="nav-text">Ù„ÛŒØ¯Ø±Ø¨Ø±Ø¯</span>
                </a>
                <a href="missions.html">
                    <i class="fas fa-tasks"></i>
                    <span class="nav-text">Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§</span>
                </a>
                <!-- Ù„ÛŒÙ†Ú© Ù…Ø¯ÛŒØ±ÛŒØª - ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
                <a href="admin.html" id="adminLink" style="display: none; background: rgba(148,163,184,0.3);">
                    <i class="fas fa-user-shield"></i>
                    <span class="nav-text">Ù…Ø¯ÛŒØ±ÛŒØª</span>
                </a>
            </div>

            <div class="wallet-section">
                <div class="wallet-row">
                    <div class="wallet-card">
                        <div class="wallet-label">
                            <i class="fas fa-coins"></i>
                            Ù…ÙˆØ¬ÙˆØ¯ÛŒ SOD
                        </div>
                        <div class="wallet-amount" id="sodBalance">Û° <span>SOD</span></div>
                    </div>
                    
                    <div class="wallet-card">
                        <div class="wallet-label">
                            <i class="fas fa-gem"></i>
                            Ù…ÙˆØ¬ÙˆØ¯ÛŒ USDT
                        </div>
                        <div class="wallet-amount" id="usdtBalance">Û° <span>USDT</span></div>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="showSODSale()">
                    <i class="fas fa-shopping-cart"></i>
                    Ø®Ø±ÛŒØ¯ SOD
                </button>
            </div>
        </nav>

        <!-- Ø¨Ø®Ø´ Ù…Ø§ÛŒÙ†Ø± -->
        <section class="miner-section">
            <div class="section-header">
                <h1 class="section-title">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù‡ÙˆØ´Ù…Ù†Ø¯ SOD</h1>
                <p class="section-subtitle">
                    Ø¨Ø§ Ù¾ÛŒØ´Ø±ÙØªÙ‡â€ŒØªØ±ÛŒÙ† Ø³ÛŒØ³ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆØ¨Û³ØŒ Ù‡Ø± Ú©Ù„ÛŒÚ© Ø´Ù…Ø§ <span class="highlight">SOD</span> ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                    Ù‡Ø± <span class="highlight">Û±Û° Ù…ÛŒÙ„ÛŒÙˆÙ† SOD</span> Ù…Ø¹Ø§Ø¯Ù„ <span class="highlight">Û°.Û°Û± USDT (Û± Ø³ÙÙ†Øª)</span> Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                </p>
            </div>

            <div class="miner-container">
                <!-- Ù…Ø§ÛŒÙ†Ø± ÙˆÛŒÙˆ -->
                <div class="miner-view">
                    <div class="miner-display">
                        <div class="miner-core" id="minerCore">
                            <div class="core-inner">
                                <div class="core-content">
                                    <div class="core-icon">âš¡</div>
                                    <div class="click-reward" id="clickReward">+Û±Û°Û° SOD</div>
                                    <div class="click-label">Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="miner-controls">
                        <button class="btn btn-primary" id="autoMineBtn">
                            <i class="fas fa-robot"></i>
                            Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø®ÙˆØ¯Ú©Ø§Ø±
                        </button>
                        <button class="btn btn-outline" onclick="showSODSale()">
                            <i class="fas fa-shopping-cart"></i>
                            Ø®Ø±ÛŒØ¯ SOD
                        </button>
                        <button class="btn btn-success" onclick="boostMining()">
                            <i class="fas fa-bolt"></i>
                            Ø§ÙØ²Ø§ÛŒØ´ Ù‚Ø¯Ø±Øª
                        </button>
                    </div>
                </div>

                <!-- Ø§Ø³ØªØ§Øª ÙˆÛŒÙˆ -->
                <div class="stats-view">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-title">Ø¯Ø±Ø¢Ù…Ø¯ Ø§Ù…Ø±ÙˆØ²</div>
                                <div class="stat-value" id="todayEarnings">Û° SOD</div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-title">Ù‚Ø¯Ø±Øª Ø§Ø³ØªØ®Ø±Ø§Ø¬</div>
                                <div class="stat-value" id="miningPower">Û±Û°x</div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-title">Ù…Ø§ÛŒÙ†Ø±Ù‡Ø§ÛŒ ÙØ¹Ø§Ù„</div>
                                <div class="stat-value">Û¸,Û´Û²Û±</div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-network-wired"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-title">Ú©Ù„ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´Ø¨Ú©Ù‡</div>
                                <div class="stat-value">Û²Û´.ÛµM SOD</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ø¨Ø®Ø´ Ù¾Ù†Ù„â€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ ÙØ±ÙˆØ´ SOD -->
        <section class="sod-sale-section" id="sodSaleSection" style="display: none;">
            <div class="section-header">
                <h2 class="section-title">ğŸ›’ Ù¾Ù†Ù„â€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ ÙØ±ÙˆØ´ SOD</h2>
                <p class="section-subtitle">
                    SOD Ø¨ÛŒØ´ØªØ±ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ø³Ø±Ø¹Øª Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø®ÙˆØ¯ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ù‡ÛŒØ¯. Ù‡Ø± Ù¾Ù†Ù„ Ø´Ø§Ù…Ù„ Ù…Ø²Ø§ÛŒØ§ÛŒ ÙˆÛŒÚ˜Ù‡â€ŒØ§ÛŒ Ø§Ø³Øª.
                </p>
            </div>

            <div class="sale-plans-grid" id="salePlansGrid">
                <!-- Ù¾Ù†Ù„â€ŒÙ‡Ø§ Ø¨Ø§ JS Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
        </section>

        <!-- Ø¨Ø®Ø´ Ù¾Ø§Ø¯Ø§Ø´ USDT -->
        <section class="reward-section">
            <div class="reward-header">
                <div>
                    <h2 class="reward-title">ğŸ Ù¾Ø§Ø¯Ø§Ø´ USDT ÙˆØ§Ù‚Ø¹ÛŒ</h2>
                    <p class="reward-subtitle">Ù‡Ø± Û±Û° Ù…ÛŒÙ„ÛŒÙˆÙ† SOD Ù…Ø¹Ø§Ø¯Ù„ <span class="highlight">Û°.Û°Û± USDT (Û± Ø³ÙÙ†Øª)</span> Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
                </div>
                <button class="btn btn-success" id="claimUSDTBtn">
                    <i class="fas fa-gift"></i>
                    Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø§Ø¯Ø§Ø´
                </button>
            </div>

            <div class="reward-card">
                <div class="reward-info">
                    <h3><i class="fas fa-wallet"></i> Ù…ÙˆØ¬ÙˆØ¯ÛŒ USDT Ø´Ù…Ø§</h3>
                    <div class="reward-amount" id="availableUSDT">Û° USDT</div>
                </div>
                <div class="reward-info">
                    <h3><i class="fas fa-bullseye"></i> ØªØ§ Ù¾Ø§Ø¯Ø§Ø´ Ø¨Ø¹Ø¯ÛŒ</h3>
                    <div class="reward-amount" id="nextReward">Û°.Û°Û± USDT</div>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-header">
                    <div class="progress-label">Ù¾ÛŒØ´Ø±ÙØª ÙØ¹Ù„ÛŒ</div>
                    <div class="progress-value" id="progressText">Û° / Û±Û°,Û°Û°Û°,Û°Û°Û° SOD (Û°.Û°Û± USDT)</div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>

            <div class="stats-view">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-title">Ø¢Ø®Ø±ÛŒÙ† Ø¯Ø±ÛŒØ§ÙØª</div>
                            <div class="stat-value" id="lastClaimTime">Ù‡Ù†ÙˆØ² Ø¯Ø±ÛŒØ§ÙØª Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯</div>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-title">Ø³Ø·Ø­ Ø´Ù…Ø§</div>
                            <div class="stat-value" id="userLevel">Û±</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ø¬Ø¯ÙˆÙ„ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ -->
        <section class="transactions-section">
            <div class="section-header">
                <h2 class="section-title">ğŸ“‹ ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§</h2>
                <p class="section-subtitle">Ù†Ù…Ø§ÛŒØ´ ØªÙ…Ø§Ù…ÛŒ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ØŒ Ø®Ø±ÛŒØ¯ Ùˆ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§</p>
            </div>

            <div class="transactions-table">
                <div id="transactionsList">
                    <!-- ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ Ø¨Ø§ JS Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
                </div>
            </div>
        </section>
    </div>

    <!-- Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-check"></i>
        </div>
        <div class="notification-content">
            <h4 id="notificationTitle">Ø¹Ù…Ù„ÛŒØ§Øª Ù…ÙˆÙÙ‚</h4>
            <p id="notificationMessage">Ù¾ÛŒØ§Ù… Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>
        </div>
    </div>

    <!-- JavaScript -->
   <script>
    // SODmAX Pro - Ù†Ø³Ø®Ù‡ Ø¨Ù‡ÛŒÙ†Ù‡ Ø´Ø¯Ù‡ Ø¨Ø§ Supabase
    console.log('ğŸš€ Loading SODmAX Pro...');
    
    const SODmAX = {
        // ============================================
        // CONFIGURATION
        // ============================================
        SUPABASE_URL: 'https://wxxhulztrxmjqftxcetp.supabase.co',
        SUPABASE_KEY: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4eGh1bHp0cnhtanFmdHhjZXRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwNzEwNDcsImV4cCI6MjA4MTY0NzA0N30.iC6Ief8aF-zw66RQRSnLxA-BmAjChQj9xy4HkJpGOA4',
        
        supabase: null,
        userData: null,
        gameData: null,
        
        // ============================================
        // INITIALIZATION
        // ============================================
        async init() {
            console.log('ğŸ® Initializing SODmAX Pro...');
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø§ØªØµØ§Ù„ Supabase
            await this.initSupabase();
            
            // Ø§ØªØµØ§Ù„ Ø§ÛŒÙˆÙ†Øªâ€ŒÙ‡Ø§
            this.bindEvents();
            
            // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±
            await this.checkUserStatus();
            
            console.log('âœ… SODmAX Pro ready!');
            console.log('ğŸ“Š Database Status:', this.supabase ? 'Connected' : 'Not Connected');
        },
        
        // ============================================
        // SUPABASE FUNCTIONS
        // ============================================
        async initSupabase() {
            try {
                this.supabase = window.supabase.createClient(
                    this.SUPABASE_URL, 
                    this.SUPABASE_KEY
                );
                
                // ØªØ³Øª Ø§ØªØµØ§Ù„
                const { data, error } = await this.supabase
                    .from('users')
                    .select('count', { count: 'exact', head: true });
                
                if (error) {
                    console.warn('âš ï¸ Supabase connected but tables might not exist');
                    console.log('â„¹ï¸ This is normal on first run');
                } else {
                    console.log(`âœ… Supabase connected! Users: ${data}`);
                }
                
                return true;
            } catch (error) {
                console.error('âŒ Failed to connect to Supabase:', error);
                return false;
            }
        },
        
        // ============================================
        // USER MANAGEMENT
        // ============================================
        async checkUserStatus() {
            // Ø§ÙˆÙ„ Ø§Ø² localStorage Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ Ú©Ù†
            const savedUser = localStorage.getItem('sodmax_user');
            const savedGame = localStorage.getItem('sodmax_game');
            
            if (savedUser && savedGame) {
                try {
                    this.userData = JSON.parse(savedUser);
                    this.gameData = JSON.parse(savedGame);
                    
                    console.log('ğŸ‘¤ User found in localStorage:', this.userData.email);
                    
                    // Ø§Ú¯Ø± Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…ØªØµÙ„ Ù‡Ø³ØªÛŒÙ…ØŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ sync Ú©Ù†
                    if (this.supabase && this.userData.userId) {
                        await this.syncWithDatabase();
                    }
                    
                    this.hideRegister();
                    this.updateUI();
                    this.showNotification('ğŸ‘‹', `Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ${this.userData.fullName}!`);
                    return;
                } catch (error) {
                    console.warn('âš ï¸ Error parsing saved data:', error);
                }
            }
            
            // Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯ØŒ ÙØ±Ù… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø±Ø§ Ù†Ø´Ø§Ù† Ø¨Ø¯Ù‡
            console.log('ğŸ‘¤ No user found, showing registration');
            this.showRegister();
        },
        
        async syncWithDatabase() {
            if (!this.supabase || !this.userData.userId) return;
            
            try {
                console.log('ğŸ”„ Syncing with database...');
                
                // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³
                const { data: dbUser, error: userError } = await this.supabase
                    .from('users')
                    .select('*')
                    .eq('user_id', this.userData.userId)
                    .single();
                
                if (userError) {
                    // Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ØŒ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†
                    console.log('ğŸ“ User not in database, creating...');
                    await this.saveUserToDatabase();
                } else {
                    console.log('âœ… User exists in database');
                }
                
                // Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³
                await this.loadGameFromDatabase();
                
            } catch (error) {
                console.error('âŒ Sync error:', error);
            }
        },
        
        async saveUserToDatabase() {
            if (!this.supabase || !this.userData.userId) return false;
            
            try {
                const { error } = await this.supabase
                    .from('users')
                    .upsert({
                        user_id: this.userData.userId,
                        full_name: this.userData.fullName,
                        email: this.userData.email,
                        referral_code: this.userData.referralCode || '',
                        last_login: new Date().toISOString(),
                        is_active: true
                    }, {
                        onConflict: 'user_id'
                    });
                
                if (error) throw error;
                
                console.log('âœ… User saved to database');
                return true;
            } catch (error) {
                console.error('âŒ Save user error:', error.message);
                return false;
            }
        },
        
        async saveGameToDatabase() {
            if (!this.supabase || !this.userData.userId) return false;
            
            try {
                const { error } = await this.supabase
                    .from('game_data')
                    .upsert({
                        user_id: this.userData.userId,
                        sod_balance: this.gameData.sodBalance,
                        usdt_balance: this.gameData.usdtBalance,
                        today_earnings: this.gameData.todayEarnings,
                        mining_power: this.gameData.miningPower,
                        user_level: this.gameData.userLevel,
                        usdt_progress: this.gameData.usdtProgress,
                        total_mined: this.gameData.totalMined,
                        updated_at: new Date().toISOString()
                    }, {
                        onConflict: 'user_id'
                    });
                
                if (error) throw error;
                
                console.log('âœ… Game data saved to database');
                return true;
            } catch (error) {
                console.error('âŒ Save game error:', error.message);
                return false;
            }
        },
        
        async loadGameFromDatabase() {
            if (!this.supabase || !this.userData.userId) return;
            
            try {
                const { data, error } = await this.supabase
                    .from('game_data')
                    .select('*')
                    .eq('user_id', this.userData.userId)
                    .single();
                
                if (error) {
                    if (error.code === 'PGRST116') {
                        // Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ØŒ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†
                        console.log('ğŸ“ No game data in database, creating...');
                        await this.saveGameToDatabase();
                    }
                    return;
                }
                
                if (data) {
                    console.log('âœ… Game data loaded from database');
                    
                    // Ø¢Ù¾Ø¯ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ (Ø§Ú¯Ø± Ø¬Ø¯ÛŒØ¯ØªØ± Ø¨Ø§Ø´Ù†Ø¯)
                    this.gameData = {
                        sodBalance: data.sod_balance || this.gameData.sodBalance,
                        usdtBalance: data.usdt_balance || this.gameData.usdtBalance,
                        todayEarnings: data.today_earnings || this.gameData.todayEarnings,
                        miningPower: data.mining_power || this.gameData.miningPower,
                        userLevel: data.user_level || this.gameData.userLevel,
                        usdtProgress: data.usdt_progress || this.gameData.usdtProgress,
                        autoMining: false,
                        boostActive: false,
                        totalMined: data.total_mined || this.gameData.totalMined
                    };
                    
                    this.updateUI();
                }
            } catch (error) {
                console.error('âŒ Load game error:', error);
            }
        },
        
        // ============================================
        // REGISTRATION
        // ============================================
        async handleRegistration(e) {
            e.preventDefault();
            
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            const referralCode = document.getElementById('referralCode').value.trim();
            
            if (!fullName || !email) {
                this.showNotification('âŒ', 'Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ùˆ Ø§ÛŒÙ…ÛŒÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            this.showNotification('â³', 'Ø¯Ø± Ø­Ø§Ù„ Ø«Ø¨Øª Ù†Ø§Ù…...');
            
            try {
                // Ø¨Ø±Ø±Ø³ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ù†Ø¨ÙˆØ¯Ù† Ø§ÛŒÙ…ÛŒÙ„
                if (this.supabase) {
                    const { data: existingUser } = await this.supabase
                        .from('users')
                        .select('email')
                        .eq('email', email)
                        .single();
                    
                    if (existingUser) {
                        this.showNotification('âš ï¸', 'Ø§ÛŒÙ† Ø§ÛŒÙ…ÛŒÙ„ Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª');
                        return;
                    }
                }
                
                // Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯
                const userId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                
                this.userData = {
                    isRegistered: true,
                    fullName: fullName,
                    email: email,
                    userId: userId,
                    referralCode: referralCode
                };
                
                this.gameData = {
                    sodBalance: 1000000,
                    usdtBalance: 0,
                    todayEarnings: 0,
                    miningPower: 10,
                    userLevel: 1,
                    usdtProgress: 1000000,
                    autoMining: false,
                    boostActive: false,
                    totalMined: 0
                };
                
                // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± localStorage
                localStorage.setItem('sodmax_user', JSON.stringify(this.userData));
                localStorage.setItem('sodmax_game', JSON.stringify(this.gameData));
                
                // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³
                if (this.supabase) {
                    await this.saveUserToDatabase();
                    await this.saveGameToDatabase();
                    await this.logTransaction('bonus', 1000000, 'SOD', 'Ø³Ú©Ù‡ Ù‡Ø¯ÛŒÙ‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…');
                }
                
                this.showNotification('âœ…', `Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù…ÙˆÙÙ‚! Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ${fullName}!`);
                
                setTimeout(() => {
                    this.hideRegister();
                    this.updateUI();
                    
                    // Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒÙ†Ú© Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
                    if (email === "hamyarhf@gmail.com") {
                        document.getElementById('adminLink').style.display = 'flex';
                    }
                }, 1500);
                
            } catch (error) {
                console.error('âŒ Registration error:', error);
                this.showNotification('âŒ', 'Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…: ' + error.message);
            }
        },
        
        // ============================================
        // GAME LOGIC
        // ============================================
        async manualMine() {
            if (!this.userData.isRegistered) {
                this.showNotification('âŒ', 'Ø§Ø¨ØªØ¯Ø§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯');
                return;
            }
            
            const earned = this.gameData.miningPower;
            if (this.gameData.boostActive) earned *= 3;
            
            // Ø¢Ù¾Ø¯ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
            this.gameData.sodBalance += earned;
            this.gameData.totalMined += earned;
            this.gameData.todayEarnings += earned;
            this.gameData.usdtProgress += earned;
            
            // Ø°Ø®ÛŒØ±Ù‡
            this.saveData();
            
            // Ù„Ø§Ú¯ ØªØ±Ø§Ú©Ù†Ø´
            if (this.supabase) {
                await this.logTransaction('mining', earned, 'SOD', 'Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¯Ø³ØªÛŒ');
            }
            
            // Ø¢Ù¾Ø¯ÛŒØª UI
            this.updateUI();
            
            // Ø§ÙÚ©Øª
            this.createMiningEffect(earned);
            
            // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø§Ø¯Ø§Ø´ USDT
            this.checkUSDT();
        },
        
        async checkUSDT() {
            if (this.gameData.usdtProgress >= 10000000) {
                const usdtEarned = 0.01;
                
                this.gameData.usdtBalance += usdtEarned;
                this.gameData.usdtProgress -= 10000000;
                
                this.showNotification('ğŸ‰', `${usdtEarned.toFixed(4)} USDT Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`);
                
                // Ø°Ø®ÛŒØ±Ù‡
                this.saveData();
                
                // Ù„Ø§Ú¯ ØªØ±Ø§Ú©Ù†Ø´
                if (this.supabase) {
                    await this.logTransaction('usdt_reward', usdtEarned, 'USDT', 'Ù¾Ø§Ø¯Ø§Ø´ Ø§Ø³ØªØ®Ø±Ø§Ø¬');
                }
                
                // Ø´Ø§Ù†Ø³ Ø§Ø±ØªÙ‚Ø§Ø¡ Ø³Ø·Ø­
                if (Math.random() > 0.85) {
                    this.gameData.userLevel++;
                    this.gameData.miningPower = 10 * this.gameData.userLevel;
                    this.showNotification('â­', `Ø³Ø·Ø­ Ø´Ù…Ø§ Ø¨Ù‡ ${this.gameData.userLevel} Ø§Ø±ØªÙ‚Ø§Ø¡ ÛŒØ§ÙØª!`);
                    this.saveData();
                }
            }
        },
        
        async logTransaction(type, amount, currency, description) {
            if (!this.supabase || !this.userData.userId) return;
            
            try {
                await this.supabase
                    .from('transactions')
                    .insert({
                        user_id: this.userData.userId,
                        type: type,
                        amount: amount,
                        currency: currency,
                        description: description,
                        created_at: new Date().toISOString()
                    });
            } catch (error) {
                console.warn('âš ï¸ Could not log transaction:', error.message);
            }
        },
        
        // ============================================
        // UTILITY FUNCTIONS
        // ============================================
        saveData() {
            localStorage.setItem('sodmax_game', JSON.stringify(this.gameData));
            
            if (this.supabase && this.userData.userId) {
                this.saveGameToDatabase();
            }
        },
        
        showNotification(title, message) {
            const notification = document.getElementById('notification');
            const titleEl = document.getElementById('notificationTitle');
            const messageEl = document.getElementById('notificationMessage');
            
            if (notification && titleEl && messageEl) {
                titleEl.textContent = title;
                messageEl.textContent = message;
                
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 4000);
            }
            
            console.log(`ğŸ“¢ ${title}: ${message}`);
        },
        
        formatNumber(num) {
            if (num >= 1000000000) return (num / 1000000000).toFixed(2) + 'B';
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return Math.floor(num).toLocaleString('fa-IR');
        },
        
        updateUI() {
            // Ù…ÙˆØ¬ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
            document.getElementById('sodBalance').innerHTML = 
                this.formatNumber(this.gameData.sodBalance) + ' <span>SOD</span>';
            
            document.getElementById('usdtBalance').innerHTML = 
                this.gameData.usdtBalance.toFixed(4) + ' <span>USDT</span>';
            
            // Ø¢Ù…Ø§Ø±
            document.getElementById('todayEarnings').textContent = 
                this.formatNumber(this.gameData.todayEarnings) + ' SOD';
            
            document.getElementById('miningPower').textContent = 
                this.gameData.miningPower + 'x';
            
            document.getElementById('clickReward').textContent = 
                '+' + this.gameData.miningPower + ' SOD';
            
            document.getElementById('userLevel').textContent = 
                this.gameData.userLevel;
            
            // Ù¾Ø§Ø¯Ø§Ø´ USDT
            document.getElementById('availableUSDT').textContent = 
                this.gameData.usdtBalance.toFixed(4) + ' USDT';
            
            const progressPercent = (this.gameData.usdtProgress / 10000000) * 100;
            document.getElementById('progressFill').style.width = progressPercent + '%';
            
            document.getElementById('progressText').textContent = 
                this.formatNumber(this.gameData.usdtProgress) + ' / Û±Û°,Û°Û°Û°,Û°Û°Û° SOD (Û°.Û°Û± USDT)';
        },
        
        createMiningEffect(amount) {
            const effect = document.createElement('div');
            effect.style.cssText = `
                position: fixed;
                color: var(--primary-light);
                font-weight: 900;
                font-size: 16px;
                pointer-events: none;
                z-index: 10000;
                text-shadow: 0 0 10px var(--primary);
                animation: miningEffect 1s ease-out forwards;
            `;
            
            const core = document.getElementById('minerCore');
            const rect = core.getBoundingClientRect();
            effect.style.left = rect.left + rect.width / 2 + 'px';
            effect.style.top = rect.top + rect.height / 2 + 'px';
            effect.textContent = '+' + this.formatNumber(amount);
            
            document.body.appendChild(effect);
            
            setTimeout(() => effect.remove(), 1000);
        },
        
        hideRegister() {
            document.getElementById('registerOverlay').style.display = 'none';
            document.getElementById('mainContainer').style.display = 'block';
        },
        
        showRegister() {
            document.getElementById('registerOverlay').style.display = 'flex';
            document.getElementById('mainContainer').style.display = 'none';
        },
        
        // ============================================
        // EVENT BINDING
        // ============================================
        bindEvents() {
            // Ø«Ø¨Øª Ù†Ø§Ù…
            document.getElementById('registerForm').addEventListener('submit', 
                (e) => this.handleRegistration(e));
            
            // Ú©Ù„ÛŒÚ© Ø§Ø³ØªØ®Ø±Ø§Ø¬
            document.getElementById('minerCore').addEventListener('click', 
                () => this.manualMine());
            
            // Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø§Ø¯Ø§Ø´
            document.getElementById('claimUSDTBtn').addEventListener('click', 
                () => this.claimUSDT());
            
            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø®ÙˆØ¯Ú©Ø§Ø±
            document.getElementById('autoMineBtn').addEventListener('click', () => {
                if (!this.userData.isRegistered) {
                    this.showNotification('âŒ', 'Ø§Ø¨ØªØ¯Ø§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯');
                    return;
                }
                
                if (this.gameData.sodBalance < 1000000) {
                    this.showNotification('âš ï¸', 'Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø®ÙˆØ¯Ú©Ø§Ø± Ø­Ø¯Ø§Ù‚Ù„ Û± Ù…ÛŒÙ„ÛŒÙˆÙ† SOD Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.');
                    return;
                }
                
                this.gameData.autoMining = !this.gameData.autoMining;
                const btn = document.getElementById('autoMineBtn');
                
                if (this.gameData.autoMining) {
                    btn.innerHTML = '<i class="fas fa-pause"></i> ØªÙˆÙ‚Ù Ø®ÙˆØ¯Ú©Ø§Ø±';
                    btn.style.background = 'var(--error)';
                    this.showNotification('ğŸ¤–', 'Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø®ÙˆØ¯Ú©Ø§Ø± ÙØ¹Ø§Ù„ Ø´Ø¯.');
                } else {
                    btn.innerHTML = '<i class="fas fa-robot"></i> Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø®ÙˆØ¯Ú©Ø§Ø±';
                    btn.style.background = '';
                    this.showNotification('â¸ï¸', 'Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø®ÙˆØ¯Ú©Ø§Ø± Ù…ØªÙˆÙ‚Ù Ø´Ø¯.');
                }
            });
        }
    };
    
    // ØªÙˆØ§Ø¨Ø¹ Ú¯Ù„ÙˆØ¨Ø§Ù„
    SODmAX.boostMining = function() {
        if (!this.userData.isRegistered) {
            this.showNotification('âŒ', 'Ø§Ø¨ØªØ¯Ø§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯');
            return;
        }
        
        if (this.gameData.sodBalance >= 5000) {
            this.gameData.sodBalance -= 5000;
            this.gameData.boostActive = true;
            this.gameData.miningPower *= 3;
            
            this.showNotification('âš¡', 'Ù‚Ø¯Ø±Øª Ø§Ø³ØªØ®Ø±Ø§Ø¬ Û³ Ø¨Ø±Ø§Ø¨Ø± Ø´Ø¯! (Û³Û° Ø¯Ù‚ÛŒÙ‚Ù‡)');
            this.saveData();
            this.updateUI();
            
            setTimeout(() => {
                this.gameData.boostActive = false;
                this.gameData.miningPower = 10 * this.gameData.userLevel;
                this.showNotification('â°', 'Ø²Ù…Ø§Ù† Ø§ÙØ²Ø§ÛŒØ´ Ù‚Ø¯Ø±Øª Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯.');
                this.saveData();
                this.updateUI();
            }, 30 * 60 * 1000);
        } else {
            this.showNotification('âš ï¸', 'Ø¨Ø±Ø§ÛŒ Ø§ÙØ²Ø§ÛŒØ´ Ù‚Ø¯Ø±Øª Ø¨Ù‡ ÛµÛ°Û°Û° SOD Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.');
        }
    };
    
    SODmAX.showSODSale = function() {
        this.showNotification('ğŸ›’', 'ÙØ±ÙˆØ´Ú¯Ø§Ù‡ SOD Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯');
    };
    
    SODmAX.claimUSDT = function() {
        if (!this.userData.isRegistered) {
            this.showNotification('âŒ', 'Ø§Ø¨ØªØ¯Ø§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯');
            return;
        }
        
        if (this.gameData.usdtBalance > 0) {
            const usdtToClaim = this.gameData.usdtBalance;
            const sodNeeded = usdtToClaim * 1000000000;
            
            if (this.gameData.sodBalance >= sodNeeded) {
                if (confirm(`Ø¢ÛŒØ§ Ù…Ø§ÛŒÙ„ Ø¨Ù‡ Ø¯Ø±ÛŒØ§ÙØª ${usdtToClaim.toFixed(4)} USDT Ù‡Ø³ØªÛŒØ¯ØŸ\n${this.formatNumber(sodNeeded)} SOD Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø³Ø± Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.`)) {
                    this.gameData.usdtBalance = 0;
                    this.gameData.sodBalance -= sodNeeded;
                    
                    this.showNotification('âœ…', `${usdtToClaim.toFixed(4)} USDT Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯.`);
                    this.saveData();
                    
                    if (this.supabase) {
                        this.logTransaction('withdrawal', usdtToClaim, 'USDT', 'Ø¨Ø±Ø¯Ø§Ø´Øª USDT');
                    }
                    
                    this.updateUI();
                }
            } else {
                this.showNotification('âš ï¸', `Ù…ÙˆØ¬ÙˆØ¯ÛŒ SOD Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª. Ù†ÛŒØ§Ø²: ${this.formatNumber(sodNeeded)} SOD`);
            }
        } else {
            this.showNotification('ğŸ’°', 'Ù‡Ù†ÙˆØ² USDT Ù¾Ø§Ø¯Ø§Ø´ Ø¯Ø±ÛŒØ§ÙØª Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯.');
        }
    };
    
    // Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù†Ø§Ù…Ù‡
    document.addEventListener('DOMContentLoaded', () => {
        SODmAX.init();
    });
    
    // Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† Ú¯Ù„ÙˆØ¨Ø§Ù„
    window.SODmAX = SODmAX;
    window.boostMining = () => SODmAX.boostMining();
    window.showSODSale = () => SODmAX.showSODSale();
    window.showTerms = () => SODmAX.showNotification('ğŸ“„', 'Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ø´Ø±Ø§ÛŒØ· Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯');
</script>
    <!-- Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Supabase -->
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script src="supabase-config.js"></script>
<script src="supabase-service.js"></script>
</body>
</html>



